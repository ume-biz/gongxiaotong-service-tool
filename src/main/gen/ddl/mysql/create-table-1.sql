
DROP TABLE IF EXISTS `ORDER` ;
CREATE TABLE `ORDER` (
    `ORDER_CODE` VARCHAR(32) BINARY NOT NULL	 COMMENT '需求编号',
    `ORDER_DESC` VARCHAR(256) BINARY 	 COMMENT '需求描述',
    `ORDER_DELIVERY_DATE` DATE 	 COMMENT '期望发货时间',
    `ORDER_DELIVERY_ADDRESS` VARCHAR(256) BINARY NOT NULL	 COMMENT '收货地址',
    `ORDER_CONTACT_NAME` VARCHAR(16) BINARY 	 COMMENT '收货联系人姓名',
    `ORDER_CONTACT_PHONE` VARCHAR(16) BINARY 	 COMMENT '收货联系人电话',
    `ORDER_TOTAL_ESTIMATION` INT 	 COMMENT '需求总价估算',
    `ORDER_STATUS` INT NOT NULL	 COMMENT '需求状态',
	`ORDER_EFFECTIVE_BEGIN_DATE` TIMESTAMP 	NULL DEFAULT NULL COMMENT '需求有效期(开始)',
	`ORDER_EFFECTIVE_END_DATE` TIMESTAMP 	NULL DEFAULT NULL COMMENT '需求有效期(结束)',
    `ORDER_BID_RECORD_LIMIT` INT 	 COMMENT '最多候选竞标件数',
    `ORDER_FINAL_BID_UID` VARCHAR(32) BINARY 	 COMMENT '最终选定竞标者ID',
    `ORDER_FINAL_BID_DESC` VARCHAR(256) BINARY 	 COMMENT '最终选定方案描述',
    `ORDER_FINAL_BID_PRICE` INT 	 COMMENT '最终选定方案价格',
    `ORDER_COMMENT` VARCHAR(256) BINARY 	 COMMENT '备注',
    `CREATE_AUTHOR` VARCHAR(32) BINARY COMMENT '创建者',
    `CREATE_DATETIME` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    `UPDATE_AUTHOR` VARCHAR(32) BINARY COMMENT '更新者',
    `UPDATE_DATETIME` TIMESTAMP  DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间'
) COMMENT '需求信息主表' ;
ALTER TABLE `ORDER` ADD CONSTRAINT `PK_ORDER` PRIMARY KEY ( ORDER_CODE ) ;

DROP TABLE IF EXISTS `ORDER_HT` ;
CREATE TABLE `ORDER_HT` (
    `ORDER_CODE` VARCHAR(32),
    `ORDER_DESC` VARCHAR(256),
    `ORDER_DELIVERY_DATE` DATE,
    `ORDER_DELIVERY_ADDRESS` VARCHAR(256),
    `ORDER_CONTACT_NAME` VARCHAR(16),
    `ORDER_CONTACT_PHONE` VARCHAR(16),
    `ORDER_TOTAL_ESTIMATION` INT,
    `ORDER_STATUS` INT,
    `ORDER_EFFECTIVE_BEGIN_DATE` TIMESTAMP  NULL DEFAULT NULL COMMENT '需求有效期(开始)',
    `ORDER_EFFECTIVE_END_DATE` TIMESTAMP  NULL DEFAULT NULL COMMENT '需求有效期(结束)',
    `ORDER_BID_RECORD_LIMIT` INT,
    `ORDER_FINAL_BID_UID` VARCHAR(32),
    `ORDER_FINAL_BID_DESC` VARCHAR(256),
    `ORDER_FINAL_BID_PRICE` INT,
    `ORDER_COMMENT` VARCHAR(256),
    `OPERATION_HISTORY_DATETIME` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '操作时间',
    `OPERATION_HISTORY_CATEGORY` CHAR(1) NOT NULL COMMENT '操作类别'
);

DROP TABLE IF EXISTS `ORDER_ITEM` ;
CREATE TABLE `ORDER_ITEM` (
    `ORDER_CODE` VARCHAR(32) BINARY NOT NULL	 COMMENT '需求编号',
    `ORDER_ITEM_CODE` VARCHAR(32) BINARY NOT NULL	 COMMENT '品类项目编号',
    `ORDER_ITEM_DESC` VARCHAR(256) BINARY 	 COMMENT '品类项目描述',
    `ORDER_ITEM_SPECS` VARCHAR(64) BINARY 	 COMMENT '品类项目规格',
    `ORDER_ITEM_QUANTITY` INT 	 COMMENT '品类项目数量',
    `ORDER_ITEM_ESTIMATION` INT 	 COMMENT '品类项目期望单价(MAX)',
    `ORDER_ITEM_LOGISTICS_CODE` VARCHAR(128) BINARY 	 COMMENT '物流单号',
    `ORDER_ITEM_LOGISTICS_DESC` VARCHAR(256) BINARY 	 COMMENT '物流描述/动态',
    `ORDER_ITEM_ORDER_STATUS` INT 	 COMMENT '物流签收状态',
    `ORDER_ITEM_COMMENT` VARCHAR(256) BINARY 	 COMMENT '备注',
    `CREATE_AUTHOR` VARCHAR(32) BINARY COMMENT '创建者',
    `CREATE_DATETIME` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    `UPDATE_AUTHOR` VARCHAR(32) BINARY COMMENT '更新者',
    `UPDATE_DATETIME` TIMESTAMP  DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间'
) COMMENT '需求信息品类明细表' ;
ALTER TABLE `ORDER_ITEM` ADD CONSTRAINT `PK_ORDER_ITEM` PRIMARY KEY ( ORDER_CODE ,ORDER_ITEM_CODE ) ;

DROP TABLE IF EXISTS `ORDER_ITEM_HT` ;
CREATE TABLE `ORDER_ITEM_HT` (
    `ORDER_CODE` VARCHAR(32),
    `ORDER_ITEM_CODE` VARCHAR(32),
    `ORDER_ITEM_DESC` VARCHAR(256),
    `ORDER_ITEM_SPECS` VARCHAR(64),
    `ORDER_ITEM_QUANTITY` INT,
    `ORDER_ITEM_ESTIMATION` INT,
    `ORDER_ITEM_LOGISTICS_CODE` VARCHAR(128),
    `ORDER_ITEM_LOGISTICS_DESC` VARCHAR(256),
    `ORDER_ITEM_ORDER_STATUS` INT,
    `ORDER_ITEM_COMMENT` VARCHAR(256),
    `OPERATION_HISTORY_DATETIME` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '操作时间',
    `OPERATION_HISTORY_CATEGORY` CHAR(1) NOT NULL COMMENT '操作类别'
);

DROP TABLE IF EXISTS `ORDER_ITEM_PROP` ;
CREATE TABLE `ORDER_ITEM_PROP` (
    `ORDER_CODE` VARCHAR(32) BINARY NOT NULL	 COMMENT '需求编号',
    `ORDER_ITEM_CODE` VARCHAR(32) BINARY NOT NULL	 COMMENT '品类编号',
    `ORDER_ITEM_PROP_KEY` VARCHAR(32) BINARY NOT NULL	 COMMENT '品类项目属性KEY',
    `ORDER_ITEM_PROP_VALUE` VARCHAR(64) BINARY 	 COMMENT '品类项目属性VALUE',
    `ORDER_ITEM_PROP_OPTION` INT 	 COMMENT '品类项目属性可选标识',
    `ORDER_ITEM_PROP_INDEX` INT 	 COMMENT '品类项目属性INDEX',
    `CREATE_AUTHOR` VARCHAR(32) BINARY COMMENT '创建者',
    `CREATE_DATETIME` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    `UPDATE_AUTHOR` VARCHAR(32) BINARY COMMENT '更新者',
    `UPDATE_DATETIME` TIMESTAMP  DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间'
) COMMENT '需求信息品类属性描述表' ;
ALTER TABLE `ORDER_ITEM_PROP` ADD CONSTRAINT `PK_ORDER_ITEM_PROP` PRIMARY KEY ( ORDER_CODE ,ORDER_ITEM_CODE ,ORDER_ITEM_PROP_KEY ) ;

DROP TABLE IF EXISTS `ORDER_ITEM_PROP_HT` ;
CREATE TABLE `ORDER_ITEM_PROP_HT` (
    `ORDER_CODE` VARCHAR(32),
    `ORDER_ITEM_CODE` VARCHAR(32),
    `ORDER_ITEM_PROP_KEY` VARCHAR(32),
    `ORDER_ITEM_PROP_VALUE` VARCHAR(64),
    `ORDER_ITEM_PROP_OPTION` INT,
    `ORDER_ITEM_PROP_INDEX` INT,
    `OPERATION_HISTORY_DATETIME` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '操作时间',
    `OPERATION_HISTORY_CATEGORY` CHAR(1) NOT NULL COMMENT '操作类别'
);

DROP TABLE IF EXISTS `ORDER_BID` ;
CREATE TABLE `ORDER_BID` (
    `ORDER_CODE` VARCHAR(32) BINARY NOT NULL	 COMMENT '需求编号',
    `BID_UID` VARCHAR(32) BINARY NOT NULL	 COMMENT '竞标者识别ID',
    `BID_DESC` VARCHAR(256) BINARY 	 COMMENT '竞标描述',
    `BID_PRICE` INT 	 COMMENT '竞标报价',
    `BID_CONTACT_NAME` VARCHAR(128) BINARY 	 COMMENT '竞标联系人姓名',
    `BID_CONTACT_PHONE` VARCHAR(16) BINARY 	 COMMENT '竞标联系人电话',
    `BID_COMMENT` VARCHAR(256) BINARY 	 COMMENT '备注',
    `CREATE_AUTHOR` VARCHAR(32) BINARY COMMENT '创建者',
    `CREATE_DATETIME` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    `UPDATE_AUTHOR` VARCHAR(32) BINARY COMMENT '更新者',
    `UPDATE_DATETIME` TIMESTAMP  DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间'
) COMMENT '需求竞标信息表' ;
ALTER TABLE `ORDER_BID` ADD CONSTRAINT `PK_ORDER_BID` PRIMARY KEY ( ORDER_CODE ,BID_UID ) ;

DROP TABLE IF EXISTS `ORDER_BID_HT` ;
CREATE TABLE `ORDER_BID_HT` (
    `ORDER_CODE` VARCHAR(32),
    `BID_UID` VARCHAR(32),
    `BID_DESC` VARCHAR(256),
    `BID_PRICE` INT,
    `BID_CONTACT_NAME` VARCHAR(128),
    `BID_CONTACT_PHONE` VARCHAR(16),
    `BID_COMMENT` VARCHAR(256),
    `OPERATION_HISTORY_DATETIME` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '操作时间',
    `OPERATION_HISTORY_CATEGORY` CHAR(1) NOT NULL COMMENT '操作类别'
);

